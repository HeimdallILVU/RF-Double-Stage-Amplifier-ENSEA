; Top Design: "RF_Double_Stage_Amplifier_lib:Cascade with Transmission Line Partial:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=yes TopDesignName="RF_Double_Stage_Amplifier_lib:Cascade with Transmission Line Partial:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
; Library Name: test_model_ce3512k2_lib
; Cell Name: CEL_CE3512K2_modele
; View Name: schematic
define CEL_CE3512K2_modele ( G  D  S1  S2 ) 
;parameters 
model EEHEMTM1 EE_HEMT1 Vto=-770.5 mV Gamma= 43.31m Vgo=-192.0 mV Vdelt= 0.000  Vch= 986.9m Gmmax=82.40e-3 Vdso= 2.000  Vsat=572.1 mV Kapa= 33.33m Peff= 4.887  Vtso=-100.0 Is= 28.10n N= 3.898  Ris=5.357 Rid=1.000 mOhm Tau=3.727 psec Cdso=42.65 fF Rdb= 1.000G Cbs=160.0 fF Vtoac=-770.5 mV Gammaac=46.83m Vdeltac= 0.000  Gmmaxac=82.82e-3 Kapaac= 18.11m Peffac= 3.665  Vtsoac=-100.0  Gdbm=52.50u Kdb= 100.0  Vdsm= 100.0  C11o=6.7 fF C11th=23.47 fF Vinfl=-651.9 mV Deltgs= 363.1m Deltds= 100.0m Lambda= 13.79m C12sat= 29.99f Cgdsat= 25.51f Kbk= 30.00m Vbr=25.00 Nbr=2.000 Idsoc= 1.893  Rd= 5.657  Rs= 265.2m Rg= 139.6  Ugw= 140.0  Ngf= 2.000  Vco=-117.8m Vba= 1.000  Vbc= 300.0m Mu= 3.000m Deltgm= 127.5m Deltgmac= 127.5m Alpha= 33.38m Kmod=104.0 Kver=1.000K 
"EEHEMTM1":EE_HEMT1  N__0 N__4 N__7 Noise=yes 
L:L1  N__9 N__4 L=1.612 nH Noise=yes  
L:L2  N__0 N__14 L=30.2 pH Noise=yes  
L:L3  N__7 S2 L=648.6 pH R=0.0001 mOhm Noise=yes  
L:L4  S1 N__7 L=648.6 pH R=0.0001 mOhm Noise=yes  
TLINP:TL1  G N__9 Z=79.3 Ohm L=8.07 mm K=1 A=0.0001 F=1 GHz TanD=0.002 Mur=1 TanM=0 Sigma=0 DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz 
TLINP:TL2  N__14 D Z=12.93 Ohm L=242.4 um K=1 A=0.0001 F=1 GHz TanD=0.002 Mur=1 TanM=0 Sigma=0 DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz 
end CEL_CE3512K2_modele

CEL_CE3512K2_modele:X1  N__29 N__59 0 0 
CEL_CE3512K2_modele:X2  N__41 N__16 0 0 
MLIN2:TL7  N__98 N__1 Subst="MSub1" W=step2w1 L=4 mm Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
V_Source:SRC5  N__98 0 Type="V_DC" Vdc=Vgs SaveCurrent=1 
MLIN2:TL5  N__54 N__62 Subst="MSub1" W=tee1w2 L=9.77847 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 

step8w2=9.51463 mm opt{ 0.025 mm to 10 mm }
tee6w3=2.27102 mm opt{ 0.025 mm to 10 mm }
tee6w1=923.166 um opt{ 200 um to 10000 um }
MLIN2:TL20  N__53 N__33 Subst="MSub1" W=2090.560000 um L=11.7375 mm opt{ 0.2 mm to 11.7375 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MSTEP:Step10  N__48 N__20 Subst="MSub1" W1=step10w1 W2=tee6w3 

step2w1=2.09 mm

tee1w1=7.36959 mm opt{ 0.2 mm to 10 mm }
tee1w2=8.34205 mm opt{ 0.2 mm to 10 mm }
tee1w3=5.47088 mm opt{ 0.2 mm to 10 mm }
MSTEP:Step6  N__38 N__30 Subst="MSub1" W1=2090 um W2=tee11w3 
MSTEP:Step2  N__1 N__70 Subst="MSub1" W1=step2w1 W2=tee1w2 
V_Source:SRC2  N__3 0 Type="V_DC" Vdc=Vds SaveCurrent=1 

step7w2=7.40518 mm opt{ 0.2 mm to 10 mm }
MLIN2:TL19  N__45 N__67 Subst="MSub1" W=2090.560000 um L=3.17828 mm opt{ 0.2 mm to 30 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
OptimGoal:OptimGoal5 Expr="StabFact1" SimInstanceName="SP2" Weight=100 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal5_limit1" 
SpecLimitLine:"OptimGoal5_limit1" Type="GreaterThan" Min=1.1 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=0 IndepMax[1]=5.5e+09 

Optim:"Optim1" OptimType="hpVMO" ErrorForm="L2" SAProgressReport=0 MaxIters=2000 P=2 DesiredError=0.0 StatusLevel=4 FinalAnalysis="None" NormalizeGoals=yes SetBestValues=yes SaveSolns=yes SaveGoals=yes SaveOptimVars=no UpdateDataset=yes SaveNominal=no SaveAllIterations=no UseAllOptVars=yes UseAllGoals=yes SaveCurrentEF=no InitialTempControlMode=0 SANumTrialsPerIter=10 NumShootsPerIter=20 SATempControlAlpha=0.8 CoranaSkip=0.0 EnableCockpit=yes NormalizeError=yes SaveAllTrials=no UseAdvTermCriteria=no CostRelativeTol=1.0e-8 LimitOfContSmallImprovement=5 


Vgs=-0.3
Vds=2.5
model MSub1 MSUB H=0.762 mm Er=2.55 Mur=1 Cond=5.8e7 Hu=1e+36 um T=35 um TanD=2e-4 Rough=0 um DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
MLIN2:TL48  N__95 N__81 Subst="MSub1" W=tee10w3 L=2.75055 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MTEE_ADS:Tee4  N__39 N__66 N__47 Subst="MSub1" W1=2090.560000 um W2=2090.560000 um W3=2090.560000 um 
MSTEP:Step5  N__31 N__72 Subst="MSub1" W1=2.09 mm W2=step4w1 
MLIN2:TL15  N__56 N__35 Subst="MSub1" W=2090.560000 um L=9.98499 mm opt{ 4 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
Short:DC_Feed4  N__51 N__11 Mode=-1 
MCFIL:CLin4  N__34 N__60 Subst="MSub1" W=step3w1 S=200.01 um opt{ 200 um to 10000 um } L=11.8909 mm opt{ 0.2 mm to 11.8909 mm } 
S_Param:SP2 CalcS=yes CalcY=no CalcZ=yes GroupDelayAperture=1e-4 FreqConversion=no FreqConversionPort=1 StatusLevel=2 CalcNoise=yes SortNoise=0 BandwidthForNoise=1.0 Hz DevOpPtLevel=0 SPSS_WSP=yes \
SweepVar="freq" SweepPlan="SP2_stim" OutputPlan="SP2_Output" 

SweepPlan: SP2_stim Start=0.1 GHz Stop=5.5 GHz Dec=20 

OutputPlan:SP2_Output \
      Type="Output" \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2

#load "python","LinearCollapse"
Component Module="LinearCollapse" Type="ModelExtractor" NetworkRepresentation=2
S_Param:SP1 CalcS=yes CalcY=no CalcZ=yes GroupDelayAperture=1e-4 FreqConversion=no FreqConversionPort=1 StatusLevel=2 CalcNoise=yes SortNoise=0 BandwidthForNoise=1.0 Hz DevOpPtLevel=0 SPSS_WSP=yes \
SweepVar="freq" SweepPlan="SP1_stim" OutputPlan="SP1_Output" 

SweepPlan: SP1_stim Start=4.5 GHz Stop=5.5 GHz Step=0.0125 GHz 

OutputPlan:SP1_Output \
      Type="Output" \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2

#load "python","LinearCollapse"
Component Module="LinearCollapse" Type="ModelExtractor" NetworkRepresentation=2

Options:Options1 Temp=16.85 Tnom=16.85 TopologyCheck=yes ForceS_Params=yes GiveAllWarnings=yes  \
MaxWarnings=10 SaveBranchCurrents=no OutputInternalNodes=no ForceM_Params=yes DC_ReadInitialGuess=no  \
DC_WriteFinalSolution=no TopologyCheckMessages=no GPU=no doDeltaAC=no ReduceSPort=no  \
ReduceSPortRatio=0.5 WarnSOA=yes MaxWarnSOA=5 Census=no MinNodalR=1e-2 Ohm  \
LargeCapThreshold=1e-3 F EnableAssertChecks=no EnableSpareRemoval=no 

aele MaxGain1=max_gain(S);
Short:Id  N__3 N__94 Mode=0 SaveCurrent=yes 
MLIN2:TL34  N__20 N__25 Subst="MSub1" W=tee6w3 L=5.69 mm opt{ 0.1 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL32  N__64 N__66 Subst="MSub1" W=2090.560000 um L=8.83266 mm opt{ 4 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL49  N__94 N__48 Subst="MSub1" W=step10w1 L=4 mm Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL10  N__74 N__38 Subst="MSub1" W=2090 um L=4.00022 mm opt{ 4 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
VIAGND:V3  N__67 Subst="MSub1" D=200 um T=0.15 um Rho=1.0 W=400 um 
MLIN2:TL8  N__72 N__9 Subst="MSub1" W=step4w1 L=7.27787 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 

step4w1=1.42463 mm opt{ 0.2 mm to 10 mm }
step3w1=200.529 um opt{ 200 um to 10000 um }
MLIN2:TL36  N__77 N__23 Subst="MSub1" W=2090 um L=5.64596 mm opt{ 4 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
aele StabFact1=stab_fact(S);
Short:DC_Feed3  N__91 N__37 Mode=-1 
OptimGoal:OptimGoal3 Expr="dB(S(2,2))" SimInstanceName="SP1" Weight=1000 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal3_limit1" 
SpecLimitLine:"OptimGoal3_limit1" Type="LessThan" Max=-12 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=4.5e+09 IndepMax[1]=5.5e+09 
OptimGoal:OptimGoal2 Expr="dB(S(1,1))" SimInstanceName="SP1" Weight=1000 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal2_limit1" 
SpecLimitLine:"OptimGoal2_limit1" Type="LessThan" Max=-12 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=4.5e+09 IndepMax[1]=5.5e+09 
OptimGoal:OptimGoal1 Expr="dB(S(2,1))" SimInstanceName="SP1" Weight=100000 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal1_limit1" 
SpecLimitLine:"OptimGoal1_limit1" Type="Inside" Min=29 Max=29.5 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=4.5e+09 IndepMax[1]=5.5e+09 
OptimGoal:OptimGoal4 Expr="nf(2)" SimInstanceName="SP1" Weight=1 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal4_limit1" 
SpecLimitLine:"OptimGoal4_limit1" Type="LessThan" Max=2.25 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=4.5e+09 IndepMax[1]=5.5e+09 

step1w2=1.17836 mm opt{ 0.2 mm to 10 mm }
MCFIL:CLin5  N__14 N__65 Subst="MSub1" W=tee6w1 S=201.774 um opt{ 200 um to 10000 um } L=10 mm opt{ 0.2 mm to 10 mm } 
Port:Term1  N__15 0 Num=1 Z=50 Ohm Noise=yes 
MSTEP:Step3  N__8 N__54 Subst="MSub1" W1=step3w1 W2=tee1w2 
MLIN2:TL6  N__10 N__29 Subst="MSub1" W=step1w2 L=4 mm Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MSTEP:Step1  N__28 N__10 Subst="MSub1" W1=tee1w1 W2=step1w2 
MSTEP:Step8  N__19 N__57 Subst="MSub1" W1=2090 um W2=step8w2 
MLIN2:TL9  N__15 N__31 Subst="MSub1" W=2.09 mm L=4 mm Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL4  N__36 N__70 Subst="MSub1" W=tee1w3 L=7.32927 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
V_Source:SRC3  N__91 0 Type="V_DC" Vdc=Vds SaveCurrent=1 
MLIN2:TL30  N__42 N__11 Subst="MSub1" W=2090.560000 um L=276.771 um opt{ 200 um to 10000 um } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MTEE_ADS:Tee5  N__42 N__35 N__46 Subst="MSub1" W1=2090.560000 um W2=2090.560000 um W3=2090.560000 um 
MSTEP:Step4  N__9 N__49 Subst="MSub1" W1=step4w1 W2=step3w1 
VIAGND:V2  N__33 Subst="MSub1" D=200 um T=0.15 um Rho=1.0 W=400 um 
C:C10  N__32 N__53 C=1.0 nF 
OptimGoal:OptimGoal7 Expr="mag(S(1,1)*S(2,2) - S(1,2)*S(2,1))" SimInstanceName="SP2" Weight=0.01 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal7_limit1" 
SpecLimitLine:"OptimGoal7_limit1" Type="LessThan" Max=1 Weight=1e+07 \
IndepVar[1]="freq" IndepMin[1]=0 IndepMax[1]=5.5e+09 
MSTEP:Step9  N__23 N__52 Subst="MSub1" W1=2090 um W2=tee6w1 
MSTEP:Step7  N__6 N__95 Subst="MSub1" W1=2090 um W2=tee10w3 
C:C11  N__40 N__45 C=1.0 nF 
MLIN2:TL31  N__37 N__39 Subst="MSub1" W=2090.560000 um L=3.05735 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
R:R6  N__55 N__56 R=50 Ohm 
V_Source:SRC4  N__51 0 Type="V_DC" Vdc=Vgs SaveCurrent=1 
MLIN2:TL21  N__46 N__32 Subst="MSub1" W=2090.560000 um L=4.67847 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 

step6w2=4.90507 mm opt{ 0.2 mm to 10 mm }
MTEE_ADS:Tee1  N__7 N__62 N__36 Subst="MSub1" W1=tee1w1 W2=tee1w2 W3=tee1w3 
MLIN2:TL18  N__47 N__40 Subst="MSub1" W=2090.560000 um L=2.48676 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL3  N__7 N__28 Subst="MSub1" W=tee1w1 L=200 um opt{ 200 um to 10000 um } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 

step10w1=2.09 mm
Port:Term2  N__77 0 Num=2 Z=50 Ohm Noise=yes 
MLIN2:TL33  N__57 N__63 Subst="MSub1" W=step8w2 L=4.23785 mm opt{ 0.1 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 

Options:Options2 Temp=16.85 Tnom=16.85 TopologyCheck=yes ForceS_Params=yes GiveAllWarnings=yes  \
MaxWarnings=10 SaveBranchCurrents=no OutputInternalNodes=no ForceM_Params=yes DC_ReadInitialGuess=no  \
DC_WriteFinalSolution=no TopologyCheckMessages=no GPU=no doDeltaAC=no ReduceSPort=no  \
ReduceSPortRatio=0.5 WarnSOA=yes MaxWarnSOA=5 Census=no MinNodalR=1e-2 Ohm  \
LargeCapThreshold=1e-3 F EnableAssertChecks=no EnableSpareRemoval=no 

MTEE_ADS:Tee10  N__58 N__79 N__81 Subst="MSub1" W1=tee10w1 W2=tee10w2 W3=tee10w3 
MICAP1:C17  N__96 N__61 Subst="MSub1" W=200 um G=200 um Ge=9.60578 mm L=13.4063 mm opt{ 0.2 mm to 30 mm } Np=3 Wt=7.46891 mm opt{ 0.2 mm to 30 mm } Wf=10 mm 
MLIN2:TL47  N__30 N__80 Subst="MSub1" W=tee11w3 L=4.87178 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL46  N__61 N__79 Subst="MSub1" W=tee10w2 L=8.73286 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL42  N__58 N__41 Subst="MSub1" W=tee10w1 L=2.7714 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL44  N__92 N__96 Subst="MSub1" W=tee11w1 L=5.91491 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL13  N__55 N__6 Subst="MSub1" W=2090 um L=4.40362 mm opt{ 4 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MTEE_ADS:Tee11  N__92 N__78 N__80 Subst="MSub1" W1=tee11w1 W2=tee11w2 W3=tee11w3 

tee10w1=635.847 um opt{ 200 um to 10000 um }
tee10w2=2.65125 mm opt{ 0.2 mm to 10 mm }
tee10w3=2.03022 mm opt{ 0.2 mm to 10 mm }
MLIN2:TL45  N__59 N__78 Subst="MSub1" W=tee11w2 L=10 mm opt{ 0.2 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 

tee11w1=4.52429 mm opt{ 0.2 mm to 10 mm }
tee11w2=4.60276 mm opt{ 0.2 mm to 10 mm }
tee11w3=4.30891 mm opt{ 0.2 mm to 10 mm }
MTEE_ADS:Tee6  N__26 N__63 N__25 Subst="MSub1" W1=tee6w1 W2=step8w2 W3=tee6w3 
MLIN2:TL35  N__16 N__19 Subst="MSub1" W=2090 um L=4.48397 mm opt{ 4 mm to 10 mm } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
R:R5  N__74 N__64 R=50 Ohm 
MLIN2:TL50  N__49 N__34 Subst="MSub1" W=step3w1 L=200 um opt{ 200 um to 10000 um } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL51  N__60 N__8 Subst="MSub1" W=step3w1 L=200 um opt{ 200 um to 10000 um } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL52  N__26 N__65 Subst="MSub1" W=tee6w1 L=200 um opt{ 200 um to 10000 um } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL53  N__14 N__52 Subst="MSub1" W=tee6w1 L=200 um opt{ 200 um to 10000 um } Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
